PROGRAM LeasingMotor

// Global Variables
DECLARE ArrayList noPelanggan, namaPelanggan, alamatPelanggan
DECLARE ArrayList kodeMotor, hargaPokok, angsuran, jumlahDp, totalBunga
DECLARE isRunning = true

PROCEDURE main()
    WHILE isRunning
        CALL showMenu()
    END WHILE
END PROCEDURE

PROCEDURE showMenu()
    DISPLAY "TUGAS AKHIR PROGRAM LEASING MOTOR"
    DISPLAY "1. Lihat Data Pelanggan"
    DISPLAY "2. Tambah Data Pelanggan"
    DISPLAY "3. Edit Data Pelanggan"
    DISPLAY "4. Hapus Data Pelanggan"
    DISPLAY "5. Keluar"
    INPUT selectedMenu
    
    SWITCH selectedMenu
        CASE 1: CALL showAllPelanggan()
        CASE 2: CALL inputPelanggan()
        CASE 3: CALL editPelanggan()
        CASE 4: CALL deletePelanggan()
        CASE 5: SET isRunning = false
        DEFAULT: DISPLAY "Menu tidak valid!"
    END SWITCH
END PROCEDURE

PROCEDURE showAllPelanggan()
    SET recordsPerPage = 3
    SET page = 1
    SET totalPages = CEILING(noPelanggan.size / recordsPerPage)
    
    WHILE true
        IF noPelanggan is EMPTY THEN
            DISPLAY "Data Pelanggan Tidak tersedia!"
            RETURN
        END IF
        
        DISPLAY header information
        
        FOR each customer in current page
            CALCULATE totalHarga = hargaPokok - jumlahDp
            CALCULATE perBulan = totalHarga / angsuran
            CALCULATE totalAngsuran = perBulan + (perBulan * totalBunga)
            DISPLAY customer information
        END FOR
        
        INPUT navigation choice ('n' for next, 'b' for back, 'k' for exit)
        UPDATE page based on navigation choice
    END WHILE
END PROCEDURE

PROCEDURE inputPelanggan()
    SET berjalan = true
    
    WHILE berjalan
        DISPLAY available motorcycles and prices
        INPUT customer number, name, address
        INPUT motorcycle code
        GET motorcycle price based on code
        INPUT down payment (uang muka)
        INPUT installment period (angsuran)
        
        CALCULATE interest rate based on installment period:
            IF period <= 12 THEN interest = 0.12
            IF period <= 24 THEN interest = 0.24
            IF period > 24 THEN interest = 0.36
        
        ADD all information to respective ArrayLists
        
        INPUT "Add more data? (y/t)"
        IF input != 'y' THEN SET berjalan = false
    END WHILE
END PROCEDURE

PROCEDURE editPelanggan()
    CALL showAllPelanggan()
    INPUT index to edit
    
    IF index is valid THEN
        INPUT new customer information
        INPUT new motorcycle code
        INPUT new down payment
        INPUT new installment period
        CALCULATE new interest rate
        UPDATE all information in respective ArrayLists
    ELSE
        DISPLAY "Data tidak ada dalam database!"
    END IF
END PROCEDURE

PROCEDURE deletePelanggan()
    CALL showAllPelanggan()
    INPUT index to delete
    
    IF index is valid THEN
        REMOVE data from all ArrayLists at given index
        DISPLAY "Data berhasil dihapus!"
    ELSE
        DISPLAY "Data tidak ada dalam database!"
    END IF
END PROCEDURE

FUNCTION getHarga(kode)
    SWITCH kode
        CASE 1: RETURN 18000000
        CASE 2: RETURN 20000000
        CASE 3: RETURN 24000000
        CASE 4: RETURN 28000000
        CASE 5: RETURN 32000000
        DEFAULT: RETURN 0
    END SWITCH
END FUNCTION

FUNCTION getMotor(kode)
    SWITCH kode
        CASE 1: RETURN "MIO M3"
        CASE 2: RETURN "FINO PREMIUM"
        CASE 3: RETURN "FAZZIO HYBRID LUX"
        CASE 4: RETURN "AEROX STANDAR"
        CASE 5: RETURN "NMAX NEO STANDAR"
        DEFAULT: RETURN "pilihan tidak tersedia"
    END SWITCH
END FUNCTION

ENDÂ PROGRAM
